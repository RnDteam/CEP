<?xml version="1.0" encoding="UTF-8"?>
<com.ibm.ia.designer.berl:BerlRule xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:com.ibm.ia.designer.berl="http://com.ibm.ia.designer/model/berl.ecore">
  <name>Process Camera Report</name>
  <uuid>86fec546-5e0b-46b9-b1b5-faac6e2313bc</uuid>
  <locale>en_US</locale>
  <definition><![CDATA[when a traffic camera report occurs , called 'the report'
definitions
    set 'the vehicle' to the vehicle of 'the report' ;
    set 'the camera location' to the camera location of 'the report' ;
if
    the vehicle of 'the report' is not null
then
    set the status of 'the vehicle' to active ;
    set the location of 'the vehicle' to 'the camera location' ;
    set the last seen of 'the vehicle' to the timestamp of 'the report' ;
    emit a new vehicle updated where
        the vehicle is 'the vehicle' ;
else
    set the location of 'the vehicle' to 'the camera location' ;
    set the last seen of 'the vehicle' to the timestamp of 'the report' ;
    emit a new vehicle created where
        the vehicle is 'the vehicle' ;]]></definition>
</com.ibm.ia.designer.berl:BerlRule>
